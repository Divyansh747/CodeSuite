{"ast":null,"code":"import _defineProperty from\"/home/divyansh747/major_project/Major_Project_CodeSuite/Frontend/codesuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/divyansh747/major_project/Major_Project_CodeSuite/Frontend/codesuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/divyansh747/major_project/Major_Project_CodeSuite/Frontend/codesuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/divyansh747/major_project/Major_Project_CodeSuite/Frontend/codesuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/divyansh747/major_project/Major_Project_CodeSuite/Frontend/codesuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/divyansh747/major_project/Major_Project_CodeSuite/Frontend/codesuite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthenticationService from'../Service/AuthenticationService';import{Button,Input,Jumbotron}from'reactstrap';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.validate=function(){var emailError=\"\";var passwordError=\"\";if(!_this.state.email.includes('@')){emailError='invalid email';}if(!_this.state.password){passwordError='Password cannot be empty, or Please recheck you password';}if(emailError){_this.setState({emailError:emailError});return false;}if(emailError||passwordError){_this.setState({emailError:emailError,passwordError:passwordError});return false;}return true;};_this.state={email:'',password:'',emailError:'',passwordError:'',hasLoginFailed:false,showSuccessMessage:false};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.loginClicked=_this.loginClicked.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(event){this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"loginClicked\",value:function loginClicked(){var _this2=this;var isValid=this.validate();if(!isValid){return false;}AuthenticationService.executeJwtAuthenticationService(this.state.email,this.state.password).then(function(response){console.log(\"response: \"+response.data);AuthenticationService.registerSuccessfulLoginForJwt(_this2.state.email,response.data);_this2.props.history.push(\"/home\");}).catch(function(){_this2.setState({showSuccessMessage:false});_this2.setState({hasLoginFailed:true});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Jumbotron,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Login\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead text-center\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary\",to:\"/signup\",children:\"Register Here\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[this.state.hasLoginFailed&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:\"Invalid Credentials. Please enter valid E-mail/Password\"}),this.state.showSuccessMessage&&/*#__PURE__*/_jsx(\"div\",{children:\"Login Sucessful\"}),\"Email: \",/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"email\",value:this.state.email,onChange:this.handleChange}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:\"red\"},children:[\" \",this.state.emailError,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),\"Password: \",/*#__PURE__*/_jsx(Input,{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:\"red\"},children:[\" \",this.state.passwordError,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-success\",onClick:this.loginClicked,children:\"Login\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/home/divyansh747/major_project/Major_Project_CodeSuite/Frontend/codesuite/src/Components/Login.js"],"names":["React","Component","AuthenticationService","Button","Input","Jumbotron","Link","Login","props","validate","emailError","passwordError","state","email","includes","password","setState","hasLoginFailed","showSuccessMessage","handleChange","bind","loginClicked","event","target","name","value","isValid","executeJwtAuthenticationService","then","response","console","log","data","registerSuccessfulLoginForJwt","history","push","catch","fontSize","color"],"mappings":"woCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,kCAAlC,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,SAAxB,KAAwC,YAAxC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,2FAEMC,CAAAA,K,8FAEF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EADe,MAwBnBC,QAxBmB,CAwBR,UAAM,CACb,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CAEA,GAAI,CAAC,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,QAAjB,CAA0B,GAA1B,CAAL,CAAqC,CACjCJ,UAAU,CAAG,eAAb,CACH,CAED,GAAI,CAAC,MAAKE,KAAL,CAAWG,QAAhB,CAA0B,CACtBJ,aAAa,CAAG,0DAAhB,CACH,CACD,GAAGD,UAAH,CAAe,CACX,MAAKM,QAAL,CAAc,CAACN,UAAU,CAAVA,UAAD,CAAd,EACA,MAAO,MAAP,CACH,CAED,GAAIA,UAAU,EAAIC,aAAlB,CAAiC,CAC7B,MAAKK,QAAL,CAAc,CAAEN,UAAU,CAAVA,UAAF,CAAcC,aAAa,CAAbA,aAAd,CAAd,EACA,MAAO,MAAP,CACH,CAED,MAAO,KAAP,CACH,CA9CkB,CAGf,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,EADE,CAETE,QAAQ,CAAE,EAFD,CAGTL,UAAU,CAAE,EAHH,CAITC,aAAa,CAAE,EAJN,CAKTM,cAAc,CAAE,KALP,CAMTC,kBAAkB,CAAE,KANX,CAAb,CASA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CAbe,aAclB,C,8CAED,sBAAaE,KAAb,CAAoB,CAChB,KAAKN,QAAL,oBAESM,KAAK,CAACC,MAAN,CAAaC,IAFtB,CAE6BF,KAAK,CAACC,MAAN,CAAaE,KAF1C,GAKH,C,4BA0BD,uBAAe,iBACX,GAAMC,CAAAA,OAAO,CAAG,KAAKjB,QAAL,EAAhB,CACA,GAAI,CAACiB,OAAL,CAAc,CACV,MAAO,MAAP,CACH,CAEAxB,qBAAqB,CAChByB,+BADL,CACqC,KAAKf,KAAL,CAAWC,KADhD,CACuD,KAAKD,KAAL,CAAWG,QADlE,EAEKa,IAFL,CAEU,SAACC,QAAD,CAAc,CAChBC,OAAO,CAACC,GAAR,CAAY,aAAaF,QAAQ,CAACG,IAAlC,EACA9B,qBAAqB,CAAC+B,6BAAtB,CAAoD,MAAI,CAACrB,KAAL,CAAWC,KAA/D,CAAsEgB,QAAQ,CAACG,IAA/E,EACA,MAAI,CAACxB,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,UACH,CANL,EAMOC,KANP,CAMa,UAAM,CACX,MAAI,CAACpB,QAAL,CAAc,CAAEE,kBAAkB,CAAE,KAAtB,CAAd,EACA,MAAI,CAACF,QAAL,CAAc,CAAEC,cAAc,CAAE,IAAlB,CAAd,EACH,CATL,EAWJ,C,sBAED,iBAAS,CACL,mBACI,oCACI,MAAC,SAAD,yBACI,WAAI,SAAS,CAAC,aAAd,mBADJ,cAEI,WAAI,SAAS,CAAC,MAAd,EAFJ,cAGI,WAAG,SAAS,CAAC,kBAAb,wBACA,aADA,cAEA,KAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,CAAC,SAArC,2BAFA,GAHJ,GADJ,cASI,aAAK,SAAS,CAAC,WAAf,WACK,KAAKL,KAAL,CAAWK,cAAX,eAA6B,YAAK,SAAS,CAAC,oBAAf,qEADlC,CAEK,KAAKL,KAAL,CAAWM,kBAAX,eAAiC,wCAFtC,wBAGW,KAAC,KAAD,EACH,IAAI,CAAC,MADF,CAEH,IAAI,CAAC,OAFF,CAGH,KAAK,CAAE,KAAKN,KAAL,CAAWC,KAHf,CAIH,QAAQ,CAAE,KAAKM,YAJZ,EAHX,cASI,aAAK,KAAK,CAAE,CAAEkB,QAAQ,CAAE,EAAZ,CAAgBC,KAAK,CAAE,KAAvB,CAAZ,eAA8C,KAAK1B,KAAL,CAAWF,UAAzD,OATJ,cAUI,aAVJ,2BAWc,KAAC,KAAD,EACN,IAAI,CAAC,UADC,CAEN,IAAI,CAAC,UAFC,CAGN,KAAK,CAAE,KAAKE,KAAL,CAAWG,QAHZ,CAIN,QAAQ,CAAE,KAAKI,YAJT,EAXd,cAiBI,aAAK,KAAK,CAAE,CAAEkB,QAAQ,CAAE,EAAZ,CAAgBC,KAAK,CAAE,KAAvB,CAAZ,eAA8C,KAAK1B,KAAL,CAAWD,aAAzD,OAjBJ,cAkBI,aAlBJ,cAmBI,KAAC,MAAD,EACI,SAAS,CAAC,iBADd,CACgC,OAAO,CAAE,KAAKU,YAD9C,mBAnBJ,GATJ,cA+BI,aA/BJ,cAgCI,aAhCJ,GADJ,CAoCH,C,mBA1GepB,S,EA6GpB,cAAeM,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react'\nimport AuthenticationService from '../Service/AuthenticationService';\nimport { Button, Input, Jumbotron} from 'reactstrap'\nimport { Link } from 'react-router-dom';\n\nclass Login extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            email: '',\n            password: '',\n            emailError: '',\n            passwordError: '',\n            hasLoginFailed: false,\n            showSuccessMessage: false,\n            }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.loginClicked = this.loginClicked.bind(this)\n    }\n\n    handleChange(event) {\n        this.setState(\n            {\n                [event.target.name]: event.target.value\n            }\n        )\n    }\n\n    validate = () => {\n        let emailError = \"\";\n        let passwordError = \"\";\n         \n        if (!this.state.email.includes('@')) {\n            emailError = 'invalid email';\n        }\n\n        if (!this.state.password) {\n            passwordError = 'Password cannot be empty, or Please recheck you password';\n        }\n        if(emailError) {\n            this.setState({emailError})\n            return false;\n        }\n\n        if (emailError || passwordError) {\n            this.setState({ emailError, passwordError });\n            return false;\n        }\n\n        return true;\n    }\n\n    loginClicked() {\n        const isValid = this.validate();\n        if (!isValid) {\n            return false;    \n        }\n        \n         AuthenticationService\n             .executeJwtAuthenticationService(this.state.email, this.state.password)\n             .then((response) => {\n                 console.log(\"response: \"+response.data)\n                 AuthenticationService.registerSuccessfulLoginForJwt(this.state.email, response.data)\n                 this.props.history.push(`/home`)\n             }).catch(() => {\n                 this.setState({ showSuccessMessage: false })\n                 this.setState({ hasLoginFailed: true })\n             })\n\n    }\n\n    render() {\n        return (\n            <div>            \n                <Jumbotron>\n                    <h1 className=\"text-center\">Login</h1>\n                    <hr className=\"my-2\" />\n                    <p className=\"lead text-center\">\n                    <br />\n                    <Link className=\"btn btn-primary\" to=\"/signup\">Register Here</Link>\n                    </p>\n                </Jumbotron>\n                <div className=\"container\">\n                    {this.state.hasLoginFailed && <div className=\"alert alert-danger\">Invalid Credentials. Please enter valid E-mail/Password</div>}\n                    {this.state.showSuccessMessage && <div>Login Sucessful</div>}\n                    Email: <Input \n                        type=\"text\" \n                        name=\"email\" \n                        value={this.state.email} \n                        onChange={this.handleChange} \n                    />\n                    <div style={{ fontSize: 12, color: \"red\" }}> {this.state.emailError} </div>\n                    <br />\n                    Password: <Input \n                        type=\"password\" \n                        name=\"password\" \n                        value={this.state.password} \n                        onChange={this.handleChange} \n                    />\n                    <div style={{ fontSize: 12, color: \"red\" }}> {this.state.passwordError} </div>\n                    <br />\n                    <Button \n                        className=\"btn btn-success\" onClick={this.loginClicked}>Login</Button>\n                </div>\n                <br />\n                <br />\n            </div>\n        )\n    }\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}